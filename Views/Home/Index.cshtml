@{
    ViewData["Title"] = "Home Page";
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-success alert-dismissible fade show mt-3" role="alert">
        @TempData["Message"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="container mt-5">

    <div class="text-center mb-4">
        <h1 class="display-5 fw-bold mb-4">Онлайн-платформа навчальних курсів</h1>
        @if (User.Identity?.IsAuthenticated == false)
        {
            <div class="d-flex justify-content-center gap-3">
                <div id="reactLoginButtons"></div>
            </div>
        }
    </div>

    <hr class="my-5" />

    <section>
        <h2 class="fw-semibold mb-3">Загальний огляд проекту</h2>
        <p class="lead">
            Проєкт являє собою онлайн-платформу для створення, публікації та проходження навчальних курсів.
        </p>
        <ul>
            <li>Викладачі створюють курси з модульною структурою, додають уроки та контент (текст, зображення, відео).</li>
            <li>Можливість створення теоретичних і практичних завдань.</li>
            <li>Адміністратори верифікують курси перед публікацією.</li>
            <li>Студенти переглядають курси, проходять уроки та виконують завдання.</li>
            <li>Система підраховує результати та формує сертифікати після успішного завершення курсу.</li>
        </ul>
    </section>

    <section class="mt-5">
        <h2 class="fw-semibold mb-3">Основні функціональності</h2>

        <h4 class="text-primary mt-4">Браузинг курсів</h4>
        <ul>
            <li>Пошук курсів за назвою або автором.</li>
            <li>Пагінація — по 10 курсів на сторінці.</li>
            <li>Перегляд сторінки курсу з детальною інформацією та кнопкою «Приєднатися».</li>
        </ul>

        <h4 class="text-primary mt-4">Проходження курсу студентом</h4>
        <h5 class="mt-3">Enrollment сторінка:</h5>
        <ul>
            <li>Кнопка «Приєднатися» до курсу.</li>
            <li>Інформація про викладачів із посиланнями на профілі.</li>
            <li>Загальний опис курсу.</li>
        </ul>

        <h5 class="mt-3">Сторінка курсу:</h5>
        <ul>
            <li>Список модулів курсу з теоретичними та практичними завданнями.</li>
            <li>Теоретичні завдання — текст, зображення, відео.</li>
            <li>Практичні завдання — тести, завдання з введенням тексту.</li>
            <li>Сторінка оцінювання (Grading) для перевірки практичних завдань.</li>
            <li>Після завершення курсу — формування сертифікату.</li>
        </ul>

        <h4 class="text-primary mt-4">Налаштування курсу викладачем</h4>
        <ul>
            <li>Створення структури курсу: модулі, уроки, контент, завдання.</li>
            <li>Додавання опису курсу.</li>
            <li>Відправлення курсу на верифікацію після налаштування.</li>
        </ul>

        <h4 class="text-primary mt-4">Верифікація курсів адміністратором</h4>
        <ul>
            <li>Перегляд списку заявок на курси.</li>
            <li>Можливість перегляду деталей кожного курсу.</li>
            <li>Прийняття або відхилення заявки.</li>
            <li>Після затвердження курс стає доступним студентам.</li>
        </ul>
    </section>

</div>

@section Scripts {
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        function AnimatedButton({ children, gradient, className, onClick }) {
            const [hover, setHover] = useState(false);

            const style = {
                transform: hover ? 'scale(1.05)' : 'scale(1)',
                transition: 'transform 0.2s',
                cursor: 'pointer',
                background: gradient,
                backgroundSize: '800% 800%',
                color: 'white',
                border: 'none',
                animation: 'gradientAnimation 10s ease infinite'
            };

            return (
                <button
                    className={className}
                    style={style}
                    onMouseEnter={() => setHover(true)}
                    onMouseLeave={() => setHover(false)}
                    onClick={onClick}
                >
                    {children}
                </button>
            );
        }

        function LoginButtons() {
            const buttons = [
                {
                    role: "Professor",
                    text: <><i className="bi bi-person-badge"></i> Увійти як професор</>,
                    gradient: 'linear-gradient(270deg, #ff7e5f, #feb47b, #ff6a88, #ff99ac)',
                    className: "btn btn-lg"

                },
                {
                    role: "Student",
                    text: <><i className="bi bi-person"></i> Увійти як студент</>,
                    gradient: 'linear-gradient(270deg, #43cea2, #185a9d, #00c6ff, #0072ff)',
                    className: "btn btn-lg"
                }
            ];

            return (
                <div className="d-flex justify-content-center gap-3">
                    {buttons.map(b => (
                        <AnimatedButton
                            key={b.role}
                            gradient={b.gradient}
                            className={b.className}
                            onClick={() => window.location.href = `/Account/ProfileLogin?role=${b.role}`}
                        >
                            {b.text}
                        </AnimatedButton>
                    ))}
                </div>
            );
        }

        const styleSheet = document.createElement("style");
            styleSheet.type = "text/css";
            styleSheet.innerText = `
            @@keyframes gradientAnimation {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
            `;
        document.head.appendChild(styleSheet);

        ReactDOM.createRoot(document.getElementById('reactLoginButtons')).render(<LoginButtons />);
    </script>


}